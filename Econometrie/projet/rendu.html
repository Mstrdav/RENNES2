<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.26">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>La source du bonheur</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="rendu_files/libs/clipboard/clipboard.min.js"></script>
<script src="rendu_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="rendu_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="rendu_files/libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="rendu_files/libs/quarto-html/popper.min.js"></script>
<script src="rendu_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="rendu_files/libs/quarto-html/anchor.min.js"></script>
<link href="rendu_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="rendu_files/libs/quarto-html/quarto-syntax-highlighting-587c61ba64f3a5504c4d52d930310e48.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="rendu_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="rendu_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="rendu_files/libs/bootstrap/bootstrap-fc17208dbcccf0e287f7e85e7f225126.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN" && texText && texText.data) {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="style.css">
</head>

<body class="quarto-light">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#plan" id="toc-plan" class="nav-link" data-scroll-target="#plan">Plan</a></li>
  <li><a href="#cadre-méthodologique" id="toc-cadre-méthodologique" class="nav-link" data-scroll-target="#cadre-méthodologique">Cadre méthodologique</a>
  <ul class="collapse">
  <li><a href="#modèle-de-régression" id="toc-modèle-de-régression" class="nav-link" data-scroll-target="#modèle-de-régression">Modèle de régression</a></li>
  <li><a href="#corrections-et-transformations-de-variables" id="toc-corrections-et-transformations-de-variables" class="nav-link" data-scroll-target="#corrections-et-transformations-de-variables">Corrections et transformations de variables</a></li>
  </ul></li>
  <li><a href="#analyse-des-données" id="toc-analyse-des-données" class="nav-link" data-scroll-target="#analyse-des-données">Analyse des données</a>
  <ul class="collapse">
  <li><a href="#cadre-des-données" id="toc-cadre-des-données" class="nav-link" data-scroll-target="#cadre-des-données">Cadre des données</a></li>
  <li><a href="#prétraitement-et-nettoyage-des-données" id="toc-prétraitement-et-nettoyage-des-données" class="nav-link" data-scroll-target="#prétraitement-et-nettoyage-des-données">Prétraitement et nettoyage des données</a></li>
  <li><a href="#analyse-descriptive-univariée-des-données" id="toc-analyse-descriptive-univariée-des-données" class="nav-link" data-scroll-target="#analyse-descriptive-univariée-des-données">Analyse descriptive univariée des données</a>
  <ul class="collapse">
  <li><a href="#analyse-de-chaque-variable-explicative" id="toc-analyse-de-chaque-variable-explicative" class="nav-link" data-scroll-target="#analyse-de-chaque-variable-explicative">Analyse de chaque variable explicative</a></li>
  </ul></li>
  <li><a href="#analyse-descriptive-bivariée-des-données" id="toc-analyse-descriptive-bivariée-des-données" class="nav-link" data-scroll-target="#analyse-descriptive-bivariée-des-données">Analyse descriptive bivariée des données</a></li>
  </ul></li>
  <li><a href="#analyse-et-discussion-des-résultats" id="toc-analyse-et-discussion-des-résultats" class="nav-link" data-scroll-target="#analyse-et-discussion-des-résultats"><strong>Analyse et discussion des résultats</strong></a>
  <ul class="collapse">
  <li><a href="#modélisation-principale" id="toc-modélisation-principale" class="nav-link" data-scroll-target="#modélisation-principale">Modélisation principale</a></li>
  <li><a href="#robustesse-des-résultats" id="toc-robustesse-des-résultats" class="nav-link" data-scroll-target="#robustesse-des-résultats">Robustesse des résultats</a></li>
  <li><a href="#analyses-complémentaires" id="toc-analyses-complémentaires" class="nav-link" data-scroll-target="#analyses-complémentaires">Analyses complémentaires</a></li>
  </ul></li>
  <li><a href="#conclusion-générale-et-perspectives" id="toc-conclusion-générale-et-perspectives" class="nav-link" data-scroll-target="#conclusion-générale-et-perspectives"><strong>Conclusion générale et perspectives</strong></a></li>
  <li><a href="#bibliographie---source-des-données" id="toc-bibliographie---source-des-données" class="nav-link" data-scroll-target="#bibliographie---source-des-données">Bibliographie - Source des données</a></li>
  </ul>
<div class="quarto-other-links"><h2>Other Links</h2><ul><li><a href="https://colin.geind.re/"><i class="bi bi-link-45deg"></i>Colin</a></li><li><a href="https://dataforgood.fr/"><i class="bi bi-link-45deg"></i>Denis</a></li></ul></div></nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">La source du bonheur</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Enlever les commentaires</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co"># étoffer le plan</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co"># numéroter les graphiques et tableaux</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># labeliser les axes</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="co"># pas de code R dans le rendu final html juste les graphiques et les commentaires</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="co"># stat desc : décrire les résultats : interpréter ou analyser</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="co"># selectionner les graphiques pertinents et ne pas tout montrer</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="co"># un document de référence</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Ne pas utiliser le code de la variable dans l interprétation</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="co"># spécifier nos sélections de variables si ce n'est déjà fait</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p><strong>JAOUEN Denis - GEINDRE Colin</strong></p>
<p><a href="https://eco.univ-rennes.fr/master-mathematiques-appliquees-statistique"><strong>Master 1 MAS - Université de Rennes</strong></a> et <a href="https://formations.univ-rennes2.fr/fr/formations/master-37/master-mention-mathematiques-appliquees-statistique-parcours-sciences-des-donnees-intelligence-artificielle-JFTJBMKM.html"><strong>Master 1 MAS - Université Rennes 2</strong></a></p>
<p>La rédaction de ce document s’appuie sur l’utilisation d’IA générative, ainsi que sur des blocs de codes fournit sur des forums comme medium ou stack overflow. Les auteur.ice.s de ces blocs sont remercié.e.s en fin de document.</p>
<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>Sommes-nous heureux ? L’étions-nous plus auparavant ? Quels modèles de société sont les plus heureux ? Et surtout, quelle est la recette du bonheur ? Questions difficiles, mais qui revêtent une importance capitale pour chacun d’entre nous, notamment dans la recherche économique et sociale actuelle.</p>
<p>Le terme de “Bonheur National Brut” (ou en anglais “Gross National Happiness”) est apparu pour la première fois au Bhutan, à la fin des années 1970. Jigme Singye Wangchuck, alors roi du pays, déclare “Gross National Happiness is more important than Gross Domestic Product”, une phrase qui a influencé le développement de pays, engageant les politiques nationales et locales autour d’une approche holistique de la notion de progrès, moins centrée sur les marqueurs socio-économiques classiques.</p>
<p>Le GNHI, indice de bonheur national développé par le Bhutan, est maintenant utilisé dans de nombreux pays autours du monde. Il est construit sur un ensemble de marqueurs répartis dans 9 pôles considérés comme égaux.</p>
<p>En effet, depuis trop longtemps, l’indice de développement d’un pays a été calculé sur des indices économiques : PIB, croissance, taux d’emploi, etc. Ce choix n’est pas neutre, il sert un système particulier qui ne met pas l’humain ou l’environnement au coeur de ses priorités. Cependant, de plus en plus de sociologues et d’économistes préconisent d’ajouter à ces mesures des marqueurs de bien-être sociétal. Mais comment mesurer le bonheur ? Existe-t-il des bases de données sérieuses et fiables permettant de répondre à nos questions ?</p>
<p>Si le <a href="https://ophi.org.uk/gross-national-happiness">GNHI</a> permet un classement selon un index de bonheur, il est déjà construit sur un postulat, celui que le bonheur est expliqué par un ensemble de facteurs socio économiques définis. Si on veut démontrer ce postulat, on ne peut pas prendre le GNHI comme index de bonheur. Nous avons préféré étudier les résultats du World Happiness Report - de <a href="https://www.gallup.com/analytics/318875/global-research.aspx">Gallup</a>, étude annuelle construite sur un questionnaire utilisant des échelles de Cantril (la principale étant “Imaginez une échelle à 10 échelons, l’échelon 0 étant la pire vie que vous pourriez imaginer, le 10 la meilleure. Sur quel échelon êtes-vous actuellement ?”). D’autres études utilisent des échelles similaires, les échelles de Likert. On citera notamment l’Integrated Values Surveys, qui est celle avec la plus longue échelle de temps, mais que nous avons rejeté car le nombre de pays est plus restreint, et la formulation des questions a changé plusieurs fois. Les postulats sont alors plus simples, et on se mettra simplement d’accord sur le fait que :</p>
<ul>
<li><p>La distance mentale entre les différentes réponses au questionnaire est stable, c’est à dire que nous pouvons faire des mathématiques dessus (calculer des moyennes, etc.). On assume une échelle <strong>cardinale</strong> et pas simplement <strong>ordinale</strong>.</p></li>
<li><p>Le bonheur est autodéterminé de manière précise. Nous assumons que l’erreur d’auto évaluation de son bonheur personel est une variable aléatoire qui suit une distribution normale. Ainsi, il n’y a pas de biais qui, par exemple, pousserait les personnes malheureuses à s’estimer plus heureuses qu’elles ne le sont.</p></li>
</ul>
<p>Ces hypothèses sont cohérentes avec la littérature scientifique, mais restent fortement débattues. En particulier, l’utilisation d’échelle cardinale plutôt qu’ordinale ne change que très peu les résultats des régression, comme l’ont démontré plusieurs économistes (Ferris, 2002). Celle-ci est de plus intuitive, et grandement facilitante pour nos calculs. Par contre, il existe un effet plafond/plancher : il est plus difficile de passer de 9 à 10 que de 5 à 6 ; l’échelle n’est probablement pas cardinale dans les extrèmes. Nous faisons là une approximation consciente. La deuxième hypothèse, elle, est corroborée par la loi des grand nombre (les données de Gallup sont les plus fournies au monde), et par les différentes études sur les marqueurs de bonheur (taux de suicide, expressions faciales…), qui tendent à démontrer que les sujets ne mentent pas sur leur bonheur. Mais certaines cultures valorisent (latino-américaines) ou dévalorisent (Japon, Corée) socialement de se dire heureux, ce qui peut tirer les résultats vers le haut ou vers le bas. De plus, le tapis roulant hédonique, ou l’adaptation à ses conditions, ainsi que la désirabilité sociale qui pousse les répondants à paraître normaux aux yeux des enquêteurs, peuvent créer une homogénisation des résultats.</p>
<p>Pour contrer ces biais, on introduit parfois des effets fixes “pays”, comme les membres de l’OCDE, les pays Latino-américains, etc.</p>
<p>Un dernier problème que nous voulons aborder est celui de la barrière de la langue. Est-ce que tout le monde à la même perception du “bonheur”, ou est-ce que les mots, le langage utilisé pour définir cette notion change au point que la langue influence les réponses ? Mais de nombreuses études ont montré que l’on arrivait relativement bien à apprécier le bonheur des autres, quelque soit notre pays d’origine et celui de l’autre, impliquant que le bonheur revêt une définition globale relativement comprise partout (voir Sandvil, 1993 et Diner &amp; Lucas, 1999).</p>
<p>Nous nous attendons à voir une corrélation entre l’indice de bonheur du WHR, et différents indicateurs socio-économiques. De plus, nous nous attendons a voir les biais culturels sus-cités.</p>
</section>
<section id="plan" class="level1">
<h1>Plan</h1>
<ul>
<li>Introduction</li>
<li>Cadre méthodologique
<ul>
<li>Modèle de régression</li>
<li>Corrections et transformations de variables</li>
</ul></li>
<li>Analyse des données
<ul>
<li>Cadre des données</li>
<li>Pré-traitement des données
<ul>
<li>Données manquantes</li>
<li>Suppression des doublons</li>
<li>Recherche des outliers</li>
<li>Transformation des données</li>
</ul></li>
<li>Analyses descriptives univariées
<ul>
<li>Variables explicatives</li>
<li>Variable cible</li>
</ul></li>
<li>Analyses descriptives multivariées
<ul>
<li>Corrélations entre variables</li>
<li>Analyse des interactions</li>
</ul></li>
</ul></li>
<li>Résultats et discussion
<ul>
<li>Modélisation principale</li>
<li>Robustesse des résultats</li>
<li>Analyses complémentaires</li>
</ul></li>
<li>Conclusion</li>
<li>Bibliographie</li>
</ul>
</section>
<section id="cadre-méthodologique" class="level1">
<h1>Cadre méthodologique</h1>
<p>Le cadre méthodologique général est celui de la régression linéaire, avec une estimation des moindres carrés ordinaires. En fonction des données, des corrections éventuelles (white, MCG, etc.) pourront être envisagées. Pour chaque partie, une méthodologie plus précise sera discutée.</p>
<section id="modèle-de-régression" class="level2">
<h2 class="anchored" data-anchor-id="modèle-de-régression">Modèle de régression</h2>
<p>Voici la formulation mathématique du modèle linéaire estimé par moindres carrés ordinaires (MCO), en notation matricielle. <span class="math display">\[
y = X\beta + \varepsilon
\]</span></p>
<p>Dans notre cas, le modèle est formulé ainsi :</p>
<p><span class="math display">\[
\begin{align}
  Happiness &amp;= \beta_0\\
  &amp;+ \beta_1 Political\_Corruption + \beta_2 GDP\_per\_capita + \beta_3 Lifespan\\
  &amp;+ \beta_4 Net\_Migration + \beta_5 Overweight\_Adults + \beta_6 Population\_density \\
  &amp;+ \beta_7 KWH\_pp\_pc + \beta_8 Military\_Expenses + \beta_9 Population\_Growth \\
  &amp;+ \beta_{10} Primary\_School\_Enrollment + \beta_{11} OCDE\\
  &amp;+ \varepsilon
\end{align}
\]</span></p>
<p>On estime alors les paramètres via la méthode des moindres carrés ordinaires : <span class="math display">\[
\hat\beta{MCO} = \operatorname*{arg\,min}\beta \sum{\varepsilon_i^2} = (X'X)^{-1}X'y
\]</span></p>
<p>Cette méthode assume certaines hypothèses :</p>
<ul>
<li><p>Linéarité : la relation entre les variables explicatives et la variable cible est linéaire. (et la variable cible est continue)</p></li>
<li><p>Exogénéité : les variables explicatives ne sont pas corrélées avec le terme d’erreur, <span class="math inline">\(E(X'\varepsilon) = 0\)</span>.</p></li>
<li><p>Homoscédasticité : la variance des erreurs est constante, <span class="math inline">\(\operatorname{Var}(\varepsilon) = \sigma^2 I\)</span>.</p></li>
<li><p>Normalité : les résidus sont distribuées normalement, <span class="math inline">\(\varepsilon \sim \mathcal{N}(0, \sigma^2)\)</span>.</p></li>
<li><p>Absence d’autocorrélation des variables explicatives : les variables explicatives ne sont pas corrélées entre elles.</p></li>
<li><p>Absence d’autocorrélation des résidus, <span class="math inline">\(\operatorname{Cov}(\varepsilon_i, \varepsilon_j) = 0\)</span> pour <span class="math inline">\(i \neq j\)</span>.</p></li>
</ul>
<p>Sous homoscédasticité : <span class="math inline">\(\operatorname{Var}(\hat\beta{MCO}) = \sigma^2 (X'X)^{-1}\)</span></p>
<p>En présence d’hétéroscédasticité, la variance générale s’écrit avec la matrice diagonale <span class="math inline">\(Ω\)</span>, <span class="math inline">\((Var(ε)=Ω)\)</span> : <span class="math inline">\(\operatorname{Var}(\hat\beta{MCO}) = (X'X)^{-1} X' \Omega X (X'X)^{-1}\)</span></p>
</section>
<section id="corrections-et-transformations-de-variables" class="level2">
<h2 class="anchored" data-anchor-id="corrections-et-transformations-de-variables">Corrections et transformations de variables</h2>
<p>Exemples de transformations de variables et modèles correspondants (interprétations rapides) :</p>
<ul>
<li>Modèle linéaire en niveaux : <span class="math inline">\(y_i = \alpha + \beta x_i + u_i\)</span>. Effet absolu de x sur y.</li>
<li>Log‑niveau (log(x) explicative) : <span class="math inline">\(y_i = \alpha + \beta \log(x_i) + u_i\)</span>. β = variation absolue de y pour une variation proportionnelle de x (approx. effet semi‑élasticité).</li>
<li>Log‑log (log(y) vs log(x)) : <span class="math inline">\(\log(y_i) = \alpha + \beta \log(x_i) + u_i ]\)</span>. β = élasticité (pourcentage de y lorsque x varie de 1%).</li>
<li>Quadratique / polynôme : <span class="math inline">\(y_i = \alpha + \beta_1 x_i + \beta_2 x_i^2 + u_i\)</span>. Permet capturer non‑linéarités (effets en U, concavité).</li>
<li>Effet interactif : <span class="math inline">\(y_i = \alpha + \beta_1 x_i + \beta_2 D_i + \beta_3 (x_i \times D_i) + u_i\)</span>. Effet de x différent selon la modalité D. On étudie les effets croisés de la même façon.</li>
</ul>
</section>
</section>
<section id="analyse-des-données" class="level1">
<h1>Analyse des données</h1>
<section id="cadre-des-données" class="level2">
<h2 class="anchored" data-anchor-id="cadre-des-données">Cadre des données</h2>
<p>Nous avons tenté d’avoir le cadre le plus global possible. Ainsi nous étudions les pays du monde entier, en particulier les 147 référencés par le world happiness report. Après sélection de nos variables, il nous reste 125 pays à étudier.</p>
<p>Ayant des données allant de 1789 à 2024 et beaucoup de données manquantes, nous avons choisi de traiter les moyennes des données disponibles de 2013 à 2023. Certains jeux de données s’achèvent avant 2023, nous avons donc fait leurs moyennes jusqu’à la dernière année recensée. Cette décision a été motivée par notre envie de tirer des conclusions les plus larges possibles.</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: left;">Code de la série</th>
<th>Définition</th>
<th style="text-align: center;">Unité</th>
<th style="text-align: right;">Source</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Code</td>
<td>Le code du pays</td>
<td style="text-align: center;">Caractères</td>
<td style="text-align: right;">-</td>
</tr>
<tr class="even">
<td style="text-align: left;">Political_Corruption</td>
<td>La moyenne de 2013 à 2023 d’un index de corruption politique allant de 0 à 1</td>
<td style="text-align: center;">Index allant de 0 à 1</td>
<td style="text-align: right;"><a href="https://data360.worldbank.org/en/indicator/">World Bank</a></td>
</tr>
<tr class="odd">
<td style="text-align: left;">GDP_per_capita</td>
<td>La moyenne de 2013 à 2023 du PIB par habitant</td>
<td style="text-align: center;">En dollar américain par habitant</td>
<td style="text-align: right;"><a href="https://data360.worldbank.org/en/indicator/WB_WDI_NY_GDP_PCAP_CD">World Bank</a></td>
</tr>
<tr class="even">
<td style="text-align: left;">Lifespan</td>
<td>La moyenne de 2013 à 202O de l’espérance de vie à la naissance</td>
<td style="text-align: center;">En années</td>
<td style="text-align: right;"><a href="https://data360.worldbank.org/en/indicator/WB_ESG_SP_DYN_LE00_IN">World Bank</a></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Net_Migration</td>
<td>La moyenne de 2013 à 2020 de la migration nette</td>
<td style="text-align: center;">En nombre de personnes</td>
<td style="text-align: right;"><a href="https://data360.worldbank.org/en/indicator/WB_WDI_SM_POP_NETM">World Bank</a></td>
</tr>
<tr class="even">
<td style="text-align: left;">Overweight_Adults</td>
<td>La moyenne de 2013 à 2016 de la proportion d’adulte de 18 ans et plus dont l’IMC est supérieur à 25.</td>
<td style="text-align: center;">En pourcentage</td>
<td style="text-align: right;"><a href="https://data360.worldbank.org/en/indicator/WB_HNP_SH_STA_OWAD_ZS">World Bank</a></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Population_density</td>
<td>La moyenne de 2013 à 2021 de la densité de population en nombre d’habitant à la mi-année par kilomètres carrés</td>
<td style="text-align: center;">En habitant par kilomètre carré</td>
<td style="text-align: right;"><a href="https://data360.worldbank.org/en/indicator/WB_WDI_EN_POP_DNST">World Bank</a></td>
</tr>
<tr class="even">
<td style="text-align: left;">KWH_pp_pc</td>
<td>La moyenne de 2013 à 2023 de la consommation en kilowattheure par personne</td>
<td style="text-align: center;">En kilowattheure par personne</td>
<td style="text-align: right;"><a href="https://ourworldindata.org/grapher/per-capita-energy-use?overlay=download-data">World Bank</a></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Military_Expenses</td>
<td>La moyenne de 2013 à 2023 du pourcentage du PIB dédié à la dépense militaire</td>
<td style="text-align: center;">En pourcentage du PIB</td>
<td style="text-align: right;"><a href="https://ourworldindata.org/grapher/military-spending-as-a-share-of-gdp-sipri?overlay=download-data">Our World in Data</a></td>
</tr>
<tr class="even">
<td style="text-align: left;">Population_Growth</td>
<td>La moyenne de 2013 à 2023 de la croissance en pourcentage de la population</td>
<td style="text-align: center;">En pourcentage</td>
<td style="text-align: right;"><a href="https://ourworldindata.org/grapher/population-growth-rates?tab=map&amp;overlay=download-data">Our World in Data</a></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Primary_School_Enrollment</td>
<td>La moyenne de 2013 à 2022 du nombre d’étudiant inscrits en école primaire divisé par la population du groupe d’age multiplié par 100</td>
<td style="text-align: center;">En pourcentage</td>
<td style="text-align: right;"><a href="https://data360.worldbank.org/en/indicator/WB_ESG_SE_PRM_ENRR">World Bank</a></td>
</tr>
<tr class="even">
<td style="text-align: left;">OCDE</td>
<td>Une indicatrice avec 1 si le pays est membre de l’OCDE et 0 sinon</td>
<td style="text-align: center;">Indicatrice</td>
<td style="text-align: right;"><a href="https://www.oecd.org/en/about/members-partners.html">OCDE</a></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Happiness</td>
<td>La moyenne de 2013 à 2023 de l’indice du bonheur calculé par le World Happiness Index</td>
<td style="text-align: center;">Index allant de 0 à 10</td>
<td style="text-align: right;"><a href="https://www.worldhappiness.report/data-sharing/">World Happiness Report</a></td>
</tr>
</tbody>
</table>
</section>
<section id="prétraitement-et-nettoyage-des-données" class="level2">
<h2 class="anchored" data-anchor-id="prétraitement-et-nettoyage-des-données">Prétraitement et nettoyage des données</h2>
<p>Pour éviter un maximum de données manquantes, nous avons effectuer des moyennes depuis 2013 et jusqu’à un maximum de 2023 sur toutes les données étudiées. Cela nous permet aussi d’atténuer les tendances qui ont pu se passer dans des temps plus courts sur cette décennie.</p>
<p>Nous avons sélectionné les jeux de données que nous avons trouvé nous paraissant les plus intéressant. Certains ont du être écartés du jeu de donnée final dû à un manque de donnée. En effet plusieurs pays n’étaient pas recensés dans les données et notre système de moyenne ne pouvait les ramener dans le jeu de donnée.</p>
</section>
<section id="analyse-descriptive-univariée-des-données" class="level2">
<h2 class="anchored" data-anchor-id="analyse-descriptive-univariée-des-données">Analyse descriptive univariée des données</h2>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>
Statistiques descriptives
===================================================================================
Statistic                   Mean     St. Dev.       Min       Median       Max     
-----------------------------------------------------------------------------------
Political_Corruption        0.47       0.30        0.002       0.50        0.95    
GDP_per_Capita            16,670.31 22,709.09     230.93     6,175.42   118,437.30 
Lifespan                    72.09      8.39        52.10       74.11      83.99    
Net_Migration             8,166.03  201,494.10 -1,632,118.00   85.12   1,206,926.00
Overweight_Adults           45.86     16.31        17.38       54.40      72.78    
Population_Density         211.95     729.00       1.99        80.05     7,814.10  
KWH_pp_pc                 25,913.75 35,190.72     224.22     15,016.75  213,333.10 
Military_Expenses           1.89       1.46        0.16        1.46        8.53    
Population_Growth           1.28       1.22        -1.91       1.14        3.93    
Primary_School_Enrollment  101.71     13.83        8.45       100.72      138.91   
Happiness                   5.46       1.12        2.86        5.48        7.67    
-----------------------------------------------------------------------------------</code></pre>
</div>
</div>
<p>On voit tout de suite, par comparaison de la moyenne et de la médiane de chaque variable certaines tendances : le PIB par habitant contient des individus qui tirent la moyenne vers le haut, idem pour la migration, le KWH par habitant et la densité de population.</p>
<p>En étudiant les minimums, maximums, étendues et écarts-type de ces quatre variables, on remarque qu’il ne s’agit probablement que de quelques individus dont les valeurs très fortes déforment les moyennes. Par exemple, la densité de population a une étendue de 7812, une médiane de 80 et un écart -type de seulement 65. On s’attend à observer dans ces variables des petits groupes d’individus aux valeurs très élevées.</p>
<p>Un effet inverse et de moindre importance peut aussi être constaté quand au surpoids des adultes. On voit que la moyenne est légèrement tirée vers le bas.</p>
<p>Les dépenses militaires ayant une moyenne légèrement plus élevée que la médiane et un écart-type faible malgré un maximum assez élevé, on s’attend à observer très peu d’individus avec des valeurs très élevées mais une concentration importante des individus autour de la médiane.</p>
<p>Le reste des variables ont l’air d’être peu dispersées. On peut s’atttendre à y voir une répartition normale des valeurs.</p>
<div id="fig1" class="fig">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="rendu_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Figure 1 : Histogramme du score de bonheur</p>
</div>
<div id="fig2" class="fig">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="rendu_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Figure 2 : Boxplot du score de bonheur</p>
</div>
<p>A première vue, l’histogramme nous indique que l’indice du bonheur semble difficilement suivre une loi normale. On repère cela à une certaine symétrie et une concentration d’indivus autour du centre, particulièrement deux pics : l’un proche de 4,5 et le second de 6.</p>
<p>Le boxplot du bonheur présente une répartition très équilibrée de notre variable explicative. On n’y repère pas de tendances particulières si ce n’est que les deux quarts les moins heureux sont légèrement plus grands.</p>
<section id="analyse-de-chaque-variable-explicative" class="level3">
<h3 class="anchored" data-anchor-id="analyse-de-chaque-variable-explicative">Analyse de chaque variable explicative</h3>
<div id="fig3" class="fig">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="rendu_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Figure 3 : Histogrammes sélectionnés (Population growth, Primary school enrollment, Military expenses, Net migration)</p>
</div>
<p>Au vu de la symétrie de leurs histogrammes on peut considérer que la croissance de la population, l’inscription à l’école primaire, les dépenses militaires et la migration peuvent suivre des lois normales.</p>
<div id="fig4" class="fig">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="rendu_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Figure 4 : Histogrammes sélectionnés (GDP per capita, Population density, KWH per capita)</p>
</div>
<p>La consommation d’énergie, la densité de population et le PIB par habitant semblent suivre des lois inverses.</p>
<div id="fig5" class="fig">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="rendu_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Figure 5 : Histogrammes sélectionnés (Political corruption, Lifespan at birth, Overweight)</p>
</div>
<p>La corruption politique, le surpoids et l’espérance de vie ne semblent pas suivre des lois classiques.</p>
<p>On remarque immédiatement les individus les plus aberrants qui referont surface dans les graphiques suivants et dont nous parlerons plus tard:</p>
<ul>
<li><p>On repère dans l’histogramme de l’inscription à l’école primaire un individu atypique proche de 0, il s’agit de la Somalie avec moins de 9% d’inscrits.</p></li>
<li><p>De la même manière dans l’histogramme de la densité de population, on repère Singapour avec une densité titanesque de près de 8000 habitants au km2.</p></li>
<li><p>Dans l’histogramme de la migration, le Pakistan apparait tout à gauche avec plus d’1,5 million de migration nettte négative et les Etats-Unis tout à droite avec plus d’1,2 million de migration nette positive.</p></li>
<li><p>Le Luxembourg est l’individu tout à droite de l’histogramme du PIB par habitant.</p></li>
<li><p>Et le Qatar est l’individu tout à droite dans l’histogramme de la consommation énergétique.</p></li>
</ul>
</section>
</section>
<section id="analyse-descriptive-bivariée-des-données" class="level2">
<h2 class="anchored" data-anchor-id="analyse-descriptive-bivariée-des-données">Analyse descriptive bivariée des données</h2>
<div id="fig6" class="fig">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="rendu_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<p>Figure 6 : Corrélations des variables explicatives avec l’indice de bonheur</p>
</div>
<p>On remarque ici les variables les plus et les moins corrélées à l’indice du bonheur. L’espérance de vie, le PIB/hab, le surpoids et la consommation énergétique sont très corrélées positivement avec l’indice de bonheur tandis que la corruption politique et la croissance de population semblent elles être corrélées négativement.<br>
Les autres variables ne semblent pas être corrélées fortement à l’indice de bonheur.</p>
<div id="fig7" class="fig">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="rendu_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p>Figure 7 : Nuages de points entre chaque variable explicative et l’indice de bonheur</p>
</div>
<p>A nouveau, on retrouve les individus aberrants repérés plus tôt qui déforment complètement les graphiques sur l’inscription à l’école primaire, la densité de population et la migration nette. Il serait bon de voir la répartition de ces graphes sans ces individus.</p>
<p>Dans le graphe du surpoids par l’indice de bonheur, on repère comme dans l’histogramme du surpoids deux pics de surreprésentation.</p>
<p>La entre l’indice de bonheur et le PIB/hab semble logarithmique avec une concentation forte des individus vers les valeurs les plus faibles. De même pour le graphe de la consommation énergétique.</p>
<p>On doute de la linéarité entre l’indice de bonheur et la corruption politique car le nuage de point est très dispersé. De même pour la croissance de la population.</p>
<p>Finalement, on remarque une certaine linéarité positive entre l’indice de bonheur et l’espérance de vie à la naissance, les points semblent bien décrire une droite.</p>
<div id="fig8" class="fig">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="rendu_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Figure 8 : Graphiques sans outliers identifiés (Population density, Primary school enrollment, Migration)</p>
</div>
<p>Ici, retirer les individus les plus aberrants ne permet pas pour autant d’obtenir une linéarité de la relation entre l’indice de bonheur et les variables étudiées. Au contraire : tout comme les dépenses militaires, ces variables ne semblent pas corrêlées à notre score de bonheur.</p>
<div id="fig9" class="fig">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="rendu_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Figure 9 : Transformations logarithmiques et leurs relations avec Happiness</p>
</div>
<p>Appliquer un logarithme au PIB par habitant et à la consommation énergétique permet un lien linéaire très clair avec l’indice de bonheur. La relation est moins forte mais c’est aussi le cas avec la migration nette, sans même retirer les individus aberrants qui sont bien projetés sur la droite. Mais attention : appliquer une transformation logarithmique à la Migration nous fait perdre tous les individus pour lesquels celle-ci est négative, ce uqi est un trop gros biais.</p>
<p>Aucune modification classique (exp, log, carré) ne donne une meilleure linéarité aux autres variables (j’ai tout testé).</p>
<div id="fig10" class="fig">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="rendu_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Figure 10 : Boxplots des variables explilcatives</p>
</div>
<p>Un affichage en boîtes à moustache permet de repérer très facilement les <strong>outliers</strong>, ces individus qui étirent fortement la distribution. En effet, sur la figure 10, on peut comparer une distribution classique, celle de la corruption politique, avec des distribution perturbée par des individus extrêmes (PIB, Migration, Densité de population, dépenses militaires ou Taux de scolarisation par exemple).</p>
<div id="fig11" class="fig">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="rendu_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Figure 11 : Boxplot du bonheur en fonction de l’appartenance à l’OCDE</p>
</div>
<p>Il est clair que les pays membres de l’OCDE ont un bonheur bien plus élevé que les non-membres.</p>
</section>
</section>
<section id="analyse-et-discussion-des-résultats" class="level1">
<h1><strong>Analyse et discussion des résultats</strong></h1>
<section id="modélisation-principale" class="level2">
<h2 class="anchored" data-anchor-id="modélisation-principale">Modélisation principale</h2>
<p>Nous allons commencer par comparer deux modèles. Le premier, que l’on appellera <strong>reglin</strong>, correspond à la régréssion linéaire complète, sans transformation de variable, et le deuxième <strong>reglog</strong>, à une régression avec une transformation par logarithme sur les variables de la figure 9.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>
--- Résumé du modèle (reg1) ---</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
===========================================================
                                   Dependent variable:     
                               ----------------------------
                                        Happiness          
                                    (1)            (2)     
-----------------------------------------------------------
Political_Corruption                0.32         0.51**    
                                   (0.26)        (0.26)    
                                                           
KWH_pp_pc                          0.0000                  
                                  (0.0000)                 
                                                           
GDP_per_Capita                   0.0000***                 
                                  (0.0000)                 
                                                           
log(KWH_pp_pc)                                    0.06     
                                                 (0.10)    
                                                           
log(GDP_per_Capita)                              0.38***   
                                                 (0.12)    
                                                           
Lifespan                          0.06***        0.04***   
                                   (0.01)        (0.01)    
                                                           
Net_Migration                     -0.0000        -0.0000   
                                  (0.0000)      (0.0000)   
                                                           
Overweight_Adults                 0.02***         0.01*    
                                  (0.005)        (0.005)   
                                                           
Population_Density                -0.0000        0.0000    
                                  (0.0001)      (0.0001)   
                                                           
Military_Expenses                 -0.09**        -0.09**   
                                   (0.04)        (0.04)    
                                                           
Population_Growth                   0.04         0.13***   
                                   (0.05)        (0.05)    
                                                           
OCDE1                              0.40**        0.44***   
                                   (0.17)        (0.16)    
                                                           
Primary_School_Enrollment         -0.01**        -0.01*    
                                  (0.003)        (0.003)   
                                                           
Constant                            0.76         -1.41*    
                                   (0.85)        (0.80)    
                                                           
-----------------------------------------------------------
Observations                        125            125     
R2                                  0.81          0.83     
Adjusted R2                         0.79          0.81     
Residual Std. Error (df = 113)      0.51          0.49     
F Statistic (df = 11; 113)        44.23***      49.40***   
===========================================================
Note:                           *p&lt;0.1; **p&lt;0.05; ***p&lt;0.01</code></pre>
</div>
</div>
<p>Nos deux modèles expliquent plus de 80% de la variance de l’indice de bonheur. Cependant, le modèle avec transformation logarithmique (reglog) a un R² ajusté légèrement supérieur, ce qui indique une meilleure capacité explicative. Nos variables significatives, par ordre de significativité, sont l’espérance de vie, le surpoids, le PIB par habitant, la dépense militaire, la participation à l’OCDE et l’inscription à l’école primaire.</p>
<p>Présentation et interprétation des résultats obtenus : utiliser un tableau récapitulatif des modèles principaux testés</p>
<p>TESTER DES MODELES DIFFERENTS</p>
<p>COMPARAISON VISU<br>
TEST D’ANOVA ENTRE CES MODELES</p>
<p>EN BACKWARD, trifouiller avec les AIC</p>
</section>
<section id="robustesse-des-résultats" class="level2">
<h2 class="anchored" data-anchor-id="robustesse-des-résultats">Robustesse des résultats</h2>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="rendu_files/figure-html/unnamed-chunk-20-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>On voit que certaines variables sont corrélées, source de problème pour notre régression à venir bien qu’aucune ne passe le seuil critique de 0,8. En voici les plus importantes :</p>
<ul>
<li><p>La corruption politique est corrélée négativement avec le PIB/hab à -0,72.</p></li>
<li><p>Le PIB/hab a une correlation positive à 0,72 avec la consommation énergétique et à 0,67 avec l’espérance de vie.</p></li>
<li><p>L’espérance de vie est corrélée positivement avec le surpoids à 0,72.</p></li>
</ul>
<p>On a donc quatre variables qui semblent corrélées entre elles. Utilisons l’indice du VIF pour s’assurer du problème :</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>
VIF
====================================================================
Political_Corruption KWH_pp_pc GDP_per_Capita Lifespan Net_Migration
--------------------------------------------------------------------
2.88                   4.03         4.24        4.22       1.20     
--------------------------------------------------------------------</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
========================================================================
Overweight_Adults Population_Density Military_Expenses Population_Growth
------------------------------------------------------------------------
2.91                     1.63              1.44              1.86       
------------------------------------------------------------------------</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
==============================
OCDE Primary_School_Enrollment
------------------------------
2.59           1.05           
------------------------------</code></pre>
</div>
</div>
<p>Le VIF, indice de multicolinéarité, est supérieur à 4 pour la consommation énergétique, le PIB par habitant et l’espérance de vie. On considère 4 comme seuil critique et on admet un problème de multicolinéarité à résoudre prochainement.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Test de Breusch-Pagan :"</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
    studentized Breusch-Pagan test

data:  reg1
BP = 7.3524, df = 11, p-value = 0.7699</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Coefficients avec erreurs robustes (HC1) :"</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
t test of coefficients:

                             Estimate  Std. Error t value  Pr(&gt;|t|)    
(Intercept)                7.5573e-01  8.3503e-01  0.9050 0.3673694    
Political_Corruption       3.2122e-01  2.7840e-01  1.1538 0.2510089    
KWH_pp_pc                  3.0159e-06  2.7847e-06  1.0830 0.2811126    
GDP_per_Capita             1.2367e-05  4.5017e-06  2.7472 0.0069977 ** 
Lifespan                   5.8158e-02  1.1487e-02  5.0630 1.618e-06 ***
Net_Migration             -1.5690e-07  1.5479e-07 -1.0136 0.3129305    
Overweight_Adults          1.7542e-02  4.9857e-03  3.5184 0.0006265 ***
Population_Density        -1.7820e-05  5.7272e-05 -0.3111 0.7562685    
Military_Expenses         -9.4878e-02  4.1147e-02 -2.3058 0.0229438 *  
Population_Growth          3.8380e-02  5.2800e-02  0.7269 0.4687885    
OCDE1                      4.0143e-01  1.5271e-01  2.6287 0.0097629 ** 
Primary_School_Enrollment -6.8018e-03  2.7886e-03 -2.4392 0.0162767 *  
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>
<p>Avec une p-value aussi haute au test de Breusch-Pagan, on choisit de ne pas rejeter l’hypothèse nulle : on considère bien que les résidus sont homoscédastiques, c’est à dire que la variance est constante.</p>
<p>Je ne sais pas comment lire le test HC1 de lmtest</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="rendu_files/figure-html/unnamed-chunk-23-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="rendu_files/figure-html/unnamed-chunk-23-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Le premier graphique nous montre que les résidus semblent suivre grossièrement une loi normale et on ne repère pas de forme spécifique dans le graphe des résidus par rapport aux valeurs ajustées.</p>
<p>Cependant, les résidus ne sont pas disposés sur la droite définie par les quantiles théoriques. Pour s’assurer de leur normalité, on va procédé à un test de normalité.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Test de Shapiro-Wilk :"</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Shapiro-Wilk normality test

data:  reg1$residuals
W = 0.9878, p-value = 0.3309</code></pre>
</div>
</div>
<p>La p-value du test étant de 0,3309, on conserve l’hypothèse nulle stipulant que les résidus suivent une loi normale.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Autocorrelation des résidus</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">'Test de Durbin-Watson :'</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Test de Durbin-Watson :"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dwtest</span>(reg1)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Durbin-Watson test

data:  reg1
DW = 1.9439, p-value = 0.3861
alternative hypothesis: true autocorrelation is greater than 0</code></pre>
</div>
</div>
<p>Comme précédemment, on conserve ici l’hypothèse nulle : il n’y a pas d’autocorrélation des résidus.</p>
<p>On a donc bien ici des résidus homoscédastiques, non-corrélés entre eux et normaux mais une certaine multicolinéarité de nos variables explicatives. Dans la section suivante, on va donc essayer de perfectionner le modèle en commençant par résoudre ces problèmes de multicolinéarité.</p>
</section>
<section id="analyses-complémentaires" class="level2">
<h2 class="anchored" data-anchor-id="analyses-complémentaires">Analyses complémentaires</h2>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = Happiness ~ Political_Corruption + log(KWH_pp_pc) + 
    log(GDP_per_Capita) + Lifespan + log(Net_Migration) + Overweight_Adults + 
    Population_Density + Military_Expenses + Population_Growth + 
    OCDE + Primary_School_Enrollment, data = data)

Residuals:
     Min       1Q   Median       3Q      Max 
-1.19914 -0.23147  0.03844  0.25981  1.05034 

Coefficients:
                            Estimate Std. Error t value Pr(&gt;|t|)  
(Intercept)               -1.264e+00  1.382e+00  -0.915   0.3647  
Political_Corruption       4.428e-01  4.290e-01   1.032   0.3069  
log(KWH_pp_pc)            -2.447e-03  1.509e-01  -0.016   0.9871  
log(GDP_per_Capita)        3.565e-01  1.632e-01   2.184   0.0336 *
Lifespan                   4.747e-02  2.182e-02   2.175   0.0343 *
log(Net_Migration)         2.959e-02  4.165e-02   0.710   0.4807  
Overweight_Adults          6.363e-03  9.088e-03   0.700   0.4871  
Population_Density         6.693e-06  8.230e-05   0.081   0.9355  
Military_Expenses         -5.733e-02  5.861e-02  -0.978   0.3327  
Population_Growth          5.567e-02  8.615e-02   0.646   0.5211  
OCDE1                      4.319e-01  2.483e-01   1.739   0.0880 .
Primary_School_Enrollment -6.146e-03  4.672e-03  -1.315   0.1942  
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.5085 on 51 degrees of freedom
  (62 observations effacées parce que manquantes)
Multiple R-squared:  0.8366,    Adjusted R-squared:  0.8013 
F-statistic: 23.73 on 11 and 51 DF,  p-value: 2.601e-16</code></pre>
</div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = Happiness ~ log(GDP_per_Capita), data = data)

Residuals:
     Min       1Q   Median       3Q      Max 
-1.90631 -0.34462  0.00494  0.30108  1.34355 

Coefficients:
                    Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)         -0.21654    0.28724  -0.754    0.452    
log(GDP_per_Capita)  0.64917    0.03235  20.065   &lt;2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.5459 on 123 degrees of freedom
Multiple R-squared:  0.766, Adjusted R-squared:  0.7641 
F-statistic: 402.6 on 1 and 123 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "#########################      OCDE     ##########################"</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = Happiness ~ log(GDP_per_Capita) + OCDE, data = data)

Residuals:
     Min       1Q   Median       3Q      Max 
-1.82314 -0.32299  0.05077  0.30295  1.35774 

Coefficients:
                    Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)           0.2015     0.3508   0.574    0.567    
log(GDP_per_Capita)   0.5927     0.0424  13.977   &lt;2e-16 ***
OCDE1                 0.2971     0.1466   2.026    0.045 *  
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.5392 on 122 degrees of freedom
Multiple R-squared:  0.7736,    Adjusted R-squared:  0.7699 
F-statistic: 208.4 on 2 and 122 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "########################      Lifespan     ########################"</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = Happiness ~ log(GDP_per_Capita) + Lifespan, data = data)

Residuals:
     Min       1Q   Median       3Q      Max 
-1.62190 -0.31382  0.01892  0.32894  1.39670 

Coefficients:
                    Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)         -1.26690    0.44396  -2.854  0.00508 ** 
log(GDP_per_Capita)  0.47823    0.06444   7.421 1.72e-11 ***
Lifespan             0.03532    0.01164   3.035  0.00294 ** 
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.5286 on 122 degrees of freedom
Multiple R-squared:  0.7824,    Adjusted R-squared:  0.7788 
F-statistic: 219.3 on 2 and 122 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "####################      OCDE + Lifespan    #####################"</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = Happiness ~ log(GDP_per_Capita) + Lifespan + OCDE, 
    data = data)

Residuals:
     Min       1Q   Median       3Q      Max 
-1.54481 -0.30706  0.05957  0.30636  1.32977 

Coefficients:
                    Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)         -0.84712    0.48458  -1.748  0.08297 .  
log(GDP_per_Capita)  0.42560    0.06870   6.195 8.31e-09 ***
Lifespan             0.03486    0.01149   3.033  0.00296 ** 
OCDE1                0.28859    0.14198   2.033  0.04428 *  
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.5219 on 121 degrees of freedom
Multiple R-squared:  0.7896,    Adjusted R-squared:  0.7844 
F-statistic: 151.4 on 3 and 121 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
<ul>
<li><p>Transformation de variables / effets non linéaires LOG / CARRE / EFFETS CROISES</p></li>
<li><p>Changement structurel</p></li>
<li><p>Effets croisés de variables</p></li>
</ul>
</section>
</section>
<section id="conclusion-générale-et-perspectives" class="level1">
<h1><strong>Conclusion générale et perspectives</strong></h1>
<p>Rappel de la problématique et de la méthodologie</p>
<p>Synthèse des résultats principaux</p>
<p>Contributions du mémoire, apports scientifiques et/ou applicatifs</p>
<p>Perspectives d’amélioration ou de recherche future</p>
<p>possible sources d’erreur : mauvaises mesures des données, simultanéité, variables omises</p>
</section>
<section id="bibliographie---source-des-données" class="level1">
<h1>Bibliographie - Source des données</h1>
<p><a href="https://tex.stackexchange.com/questions/27028/what-is-the-difference-between-newline-and" class="uri">https://tex.stackexchange.com/questions/27028/what-is-the-difference-between-newline-and</a></p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>